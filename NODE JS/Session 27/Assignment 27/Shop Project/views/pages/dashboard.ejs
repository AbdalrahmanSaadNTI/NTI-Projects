<%- include('../partials/siteHeader', { pageTitle: "Dashboard", user: user }) %>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">Welcome back, <%= user ? user.fullname : 'Guest' %>!</h2>
        <p style="color: #718096; margin: 0;">Here's what's happening in your shop today.</p>
    </div>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-number">0</div>
        <div class="stat-label">Total Products</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">0</div>
        <div class="stat-label">Categories</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">0</div>
        <div class="stat-label">Pending Orders</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">0</div>
        <div class="stat-label">Completed Orders</div>
    </div>
</div>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 2rem;">
    <!-- Quick Actions -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Quick Actions</h3>
        </div>
        <div style="display: flex; flex-direction: column; gap: 1rem;">
            <a href="/products/createForm" class="btn btn-primary">+ Add New Product</a>
            <a href="/categories" class="btn btn-secondary">Manage Categories</a>
            <a href="/orders" class="btn btn-secondary">View Orders</a>
            <% if (user && (user.role === 'admin' || user.role === 'shop_owner')) { %>
                <a href="/users" class="btn btn-secondary">Manage Users</a>
                <a href="/reports" class="btn btn-secondary">View Reports</a>
            <% } %>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Recent Activity</h3>
        </div>
        <div class="empty-state">
            <div class="empty-state-icon">ðŸ“Š</div>
            <h4 class="empty-state-title">No Recent Activity</h4>
            <p class="empty-state-description">Start by adding products or managing orders to see activity here.</p>
        </div>
    </div>
</div>

<!-- Role-based content -->
<% if (user && user.role === 'item_manager') { %>
<div class="card" style="margin-top: 2rem;">
    <div class="card-header">
        <h3 class="card-title">Item Manager Tools</h3>
    </div>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
        <a href="/products" class="btn btn-primary">Manage Products</a>
        <a href="/categories" class="btn btn-secondary">Manage Categories</a>
    </div>
</div>
<% } %>

<% if (user && user.role === 'order_manager') { %>
<div class="card" style="margin-top: 2rem;">
    <div class="card-header">
        <h3 class="card-title">Order Manager Tools</h3>
    </div>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
        <a href="/orders" class="btn btn-primary">View All Orders</a>
        <a href="/orders?status=Pending" class="btn btn-secondary">Pending Orders</a>
        <a href="/orders?status=In Progress" class="btn btn-secondary">In Progress</a>
    </div>
</div>
<% } %>

<% if (user && (user.role === 'admin' || user.role === 'shop_owner')) { %>
<div class="card" style="margin-top: 2rem;">
    <div class="card-header">
        <h3 class="card-title">Admin Tools</h3>
    </div>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
        <a href="/users" class="btn btn-primary">Manage Users</a>
        <a href="/reports" class="btn btn-secondary">View Reports</a>
        <!-- <a href="/reports/products" class="btn btn-secondary">Product Reports</a>
        <a href="/reports/orders" class="btn btn-secondary">Order Reports</a> -->
        <a href="/reports" class="btn btn-secondary">Product Reports</a>
        <a href="/reports" class="btn btn-secondary">Order Reports</a>
    </div>
</div>
<% } %>

<%- include('../partials/siteFooter') %>
